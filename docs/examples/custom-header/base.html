<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>e-virt-table</title>
    </head>
    <script src="https://unpkg.com/e-virt-table/dist/index.umd.js"></script>
    <body>
        <div id="e-virt-table"></div>
    </body>
    <script>
        const leftFixedSvg = `<svg t="1758795502162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8504" width="200" height="200"><path d="M181.75097656 796.43603516L300.56811523 677.61889648c5.10864258-5.10864258 5.19104004-13.43078614 0-18.62182617L186.61242675 544.21740723c-7.49816895-7.58056641-11.70043945-17.96264648-11.45324706-28.6743164 0.16479492-10.62927247 4.77905273-20.84655762 12.52441406-28.09753419 35.51330567-33.1237793 79.84313965-54.79431153 128.12805176-62.62207031 37.57324219-6.09741211 75.64086914-3.62548828 111.5661621 7.1685791 4.44946289 1.31835938 9.22851563 0.32958984 12.68920899-2.80151368l136.61499024-122.19543456c3.21350098-2.88391114 4.8614502-7.16857911 4.28466796-11.45324708-2.47192383-19.11621094-1.81274414-38.56201172 2.14233398-57.43103027 6.01501465-29.00390625 19.6105957-55.86547852 39.30358888-77.53601074 7.25097656-7.99255372 17.63305664-12.77160645 28.42712402-13.01879882 10.79406739-0.24719239 21.34094239 4.03747559 29.00390625 11.70043945L867.13305664 347.86425781c7.58056641 7.66296387 11.78283692 18.29223633 11.45324708 29.08630372-0.32958984 10.79406739-5.10864258 21.09375-13.18359376 28.34472655-21.83532715 19.52819825-48.77929688 32.87658692-77.78320312 38.72680665-18.86901856 3.7902832-38.31481934 4.36706543-57.43103028 1.73034668-4.28466797-0.57678223-8.56933594 0.98876953-11.45324706 4.20227051L595.38623047 585.66333008c-3.13110352 3.46069336-4.11987305 8.23974609-2.88391114 12.60681153 10.546875 36.00769043 12.77160645 74.07531739 6.3446045 111.64855956-8.15734864 48.20251465-30.1574707 92.36755372-63.52844239 127.71606446-7.33337403 7.74536133-17.55065918 12.19482422-28.17993163 12.35961914h-0.49438477c-10.46447754 0-20.6817627-4.20227051-28.09753418-11.70043946L365.57971191 724.50305176c-5.10864258-5.19104004-13.51318359-5.19104004-18.70422363-1e-8L227.97595214 843.48498536c-6.42700195 6.42700195-14.83154297 9.64050293-23.31848144 9.64050292-8.32214356 0-16.72668458-3.13110352-23.15368652-9.47570801-13.01879883-12.85400391-12.68920898-34.27734375 0.24719238-47.21374511z m317.23022461-31.14624024c2.96630859 3.04870606 7.99255372 2.47192383 10.29968262-1.15356445 12.27722168-19.77539063 20.6817627-41.85791016 24.63684082-65.25878906 5.85021973-34.68933106 1.81274414-70.0378418-11.78283692-102.09045411l-4.94384765-11.61804199c-1.97753906-4.69665528-1.071167-10.21728516 2.38952637-14.00756836l176.49536132-194.54040528c3.46069336-3.7902832 8.73413086-5.2734375 13.67797852-3.70788573l12.0300293 3.70788574c22.164917 6.83898926 45.5657959 6.26220703 66.41235351-1.07116699 4.61425781-1.56555176 5.93261719-7.41577148 2.5543213-10.87646485L662.37536622 235.47412109c-3.46069336-3.46069336-9.22851563-2.14233398-10.87646486 2.47192383-7.41577148 20.76416016-8.23974609 44.16503906-1.48315429 66.41235352l3.62548828 12.03002929c1.4831543 4.8614502 0 10.21728516-3.87268066 13.59558106L453.9921875 505.16101074c-3.7902832 3.46069336-9.31091309 4.28466797-14.00756836 2.30712891l-11.618042-5.02624512c-32.05261231-13.84277344-67.31872559-18.12744141-102.00805663-12.52441406-23.40087891 3.7902832-45.5657959 12.0300293-65.42358398 24.22485351-3.62548828 2.22473145-4.20227051 7.25097656-1.23596192 10.29968263l239.28222656 240.84777831z" p-id="8505"></path></svg>`;
        const rightFixedSvg = `<svg t="1758795538076" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8657" width="200" height="200"><path d="M844.72094727 796.43603516L725.90380859 677.61889648c-5.10864258-5.10864258-5.19104004-13.43078614 0-18.62182617L839.94189453 544.21740723c7.49816895-7.58056641 11.70043945-17.96264648 11.45324708-28.6743164-0.16479492-10.62927247-4.77905273-20.84655762-12.52441408-28.09753419-35.51330567-33.1237793-79.84313965-54.79431153-128.12805175-62.62207031-37.57324219-6.09741211-75.64086914-3.62548828-111.56616211 7.1685791-4.44946289 1.31835938-9.22851563 0.32958984-12.68920898-2.80151368L449.87231445 306.99511719c-3.21350098-2.88391114-4.8614502-7.16857911-4.28466797-11.45324708 2.47192383-19.11621094 1.81274414-38.56201172-2.14233398-57.43103027-6.01501465-29.00390625-19.6105957-55.86547852-39.30358887-77.53601074-7.25097656-7.99255372-17.63305664-12.77160645-28.42712402-13.01879882-10.79406739-0.24719239-21.34094239 4.03747559-29.00390625 11.70043945l-187.20703125 188.69018554c-7.58056641 7.66296387-11.78283692 18.29223633-11.45324708 29.08630371 0.32958984 10.79406739 5.10864258 21.09375 13.18359376 28.34472657 21.83532715 19.52819825 48.77929688 32.87658692 77.78320312 38.72680664 18.86901856 3.7902832 38.31481934 4.36706543 57.43103028 1.73034668 4.28466797-0.57678223 8.56933594 0.98876953 11.45324706 4.2022705l123.18420411 135.70861817c3.13110352 3.46069336 4.11987305 8.23974609 2.88391114 12.60681152-10.546875 36.00769043-12.77160645 74.07531739-6.3446045 111.64855958 8.15734864 48.20251465 30.1574707 92.36755372 63.52844239 127.71606444 7.33337403 7.74536133 17.55065918 12.19482422 28.17993163 12.35961915h0.49438476c10.46447754 0 20.6817627-4.20227051 28.09753419-11.70043945L660.89221192 724.58544922c5.10864258-5.19104004 13.51318359-5.19104004 18.70422363 0l118.98193359 118.98193359c6.42700195 6.42700195 14.83154297 9.64050293 23.31848145 9.64050294 8.32214356 0 16.72668458-3.13110352 23.15368652-9.47570802 12.93640137-12.93640137 12.60681153-34.35974122-0.32958984-47.29614257z m-317.23022461-31.14624024c-2.96630859 3.04870606-7.99255372 2.47192383-10.29968263-1.15356445-12.27722168-19.77539063-20.6817627-41.85791016-24.63684081-65.25878906-5.85021973-34.68933106-1.81274414-70.0378418 11.78283692-102.09045411l4.94384764-11.61804199c1.97753906-4.69665528 1.071167-10.21728516-2.38952636-14.00756836L330.39599609 376.62097167c-3.46069336-3.7902832-8.73413086-5.2734375-13.67797851-3.70788573l-12.0300293 3.70788574c-22.164917 6.83898926-45.5657959 6.26220703-66.41235351-1.07116699-4.61425781-1.56555176-5.93261719-7.41577148-2.5543213-10.87646485l128.37524415-129.19921875c3.46069336-3.46069336 9.22851563-2.14233398 10.87646484 2.47192383 7.41577148 20.76416016 8.23974609 44.16503906 1.48315429 66.41235352l-3.62548828 12.03002929c-1.4831543 4.8614502 0 10.21728516 3.87268067 13.59558106l195.77636719 175.09460449c3.7902832 3.46069336 9.31091309 4.28466797 14.00756836 2.30712891l11.61804199-5.02624512c32.05261231-13.84277344 67.31872559-18.12744141 102.00805664-12.52441406 23.40087891 3.7902832 45.5657959 12.0300293 65.42358398 24.22485351 3.62548828 2.22473145 4.20227051 7.25097656 1.23596192 10.29968262L527.49072266 765.28979492z" p-id="8658"></path></svg>`;
        const noFixedSvg = `<svg t="1758795566528" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8810" width="200" height="200"><path d="M540.13262625 818.84475581L540.13262625 680.38998768c0-5.95297893 4.80078947-10.84978419 10.84978419-10.84978418L684.30033383 669.10813244c8.78544473-0.04800789 17.28284206-3.64859999 23.37984469-10.03364997 6.09700263-6.2890342 9.36153946-14.93045523 9.07349208-23.66789206-1.39222895-39.99057623-14.59439996-78.44489983-38.16627623-111.13827606-18.33901574-25.44418415-41.95889991-46.18359463-69.17937617-60.82600251-3.36055263-1.82429999-5.56891578-5.18485263-5.76094734-9.02548419L595.24568929 303.62403061c-0.19203157-3.55258421 1.34422105-7.00915262 4.17668684-9.16950788 12.57806839-9.69759472 23.52386837-21.41152101 32.21329729-34.70970781 13.3942026-20.40335522 21.12347364-43.97523149 22.27566311-68.07519459 0.43207106-8.8814605-2.83246578-17.71491311-8.9774763-24.14797099-6.14501051-6.43305789-14.78643155-10.08165787-23.71589994-10.08165789l-219.0120153 0.86414211c-8.8814605 0.04800789-17.52288155 3.79262367-23.61988418 10.27368945-6.09700263 6.48106578-9.31353155 15.2665105-8.83345261 24.1959789 1.34422105 24.09996311 9.26552366 47.57582359 22.75574205 67.88316301 8.78544473 13.20217103 19.77925259 24.86808942 32.45333678 34.46966834 2.83246578 2.16035526 4.41672631 5.56891578 4.22469472 9.12149997l-7.29719998 150.84080495c-0.19203157 3.84063157-2.40039472 7.20118419-5.66493155 9.02548419-27.12446047 14.83443945-50.60032095 35.71787361-68.74730512 61.35408935-23.33183678 32.83739993-36.24596046 71.38773932-37.39814992 111.42632343-0.24003947 8.78544473 3.12051315 17.33084996 9.21751575 23.61988415l0.28804738 0.28804738c6.09700262 6.09700262 14.49838418 9.60157893 23.18781311 9.55357102L474.88989746 669.87625876c6.00098683-0.04800789 10.89779209 4.84879735 10.89779207 10.89779209l0 138.64679969c0 7.48923156 3.02449735 14.25834473 7.96931051 19.20315787 4.84879735 4.84879735 11.56990261 7.92130262 19.01112627 7.96931048 15.07447892 0 27.36449994-12.67408418 27.36449994-27.74856308z m-166.68341015-202.97737851c-3.50457631 0.0480079-6.09700263-3.21652894-5.32887632-6.67309736 4.36871842-18.67507102 12.33802892-36.43799203 23.66789206-52.37661304 16.80276311-23.61988417 39.75053675-41.86288413 66.34691039-52.61665252l9.64958682-3.88863946c3.88863948-1.58426052 6.57708157-5.3288763 6.76911313-9.55357104L485.06757111 274.57925435c0.19203157-4.22469472-2.01633157-8.1613421-5.80895525-10.12966576l-9.16950787-4.84879735c-16.89877891-8.92946841-30.19696572-22.89976573-38.07026044-39.31846571-1.7762921-3.6005921 0.8641421-7.77727893 4.84879735-7.82528684l150.07267862-0.48007892c4.03266314 0 6.62508947 4.12867895 4.89680525 7.77727891-7.77727893 16.41869996-20.93144207 30.53302099-37.83022098 39.55850519l-9.12149997 4.89680524c-3.6966079 1.96832368-5.95297893 5.95297893-5.66493156 10.17767367l12.04998155 216.08353374c0.19203157 4.22469472 2.92848157 7.92130262 6.81712104 9.50556314l9.69759471 3.84063156c26.74039732 10.60974471 49.78418674 28.6607131 66.73097354 52.13657357 11.42587892 15.84260523 19.53921312 33.55751835 24.00394732 52.23258936 0.8161342 3.40856051-1.7762921 6.67309735-5.28086841 6.72110526L373.4492161 615.8673773z" p-id="8811"></path></svg>`;
        const hideSvg = `<svg t="1758795582760" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8963" width="200" height="200"><path d="M512 326.60571289a301.88369727 301.88369727 0 0 1 272.52960205 169.94476343 298.08311438 298.08311438 0 0 1-74.46670556 96.40502929l43.56765747 43.56765747c42.94967675-38.00582886 76.93862915-85.59036278 98.25897217-139.97268676C798.43417359 360.90365601 666.49523902 264.80761742 512 264.80761742c-39.24179101 0-76.93862915 6.17980933-112.47253442 17.61245728l50.98342896 50.98342896C470.59527612 329.38662719 490.9886477 326.60571289 512 326.60571289z m-33.06198097 35.22491454L542.89904809 425.79165649c17.61245727 7.7247622 31.82601953 21.93832373 39.55078101 39.55078102l63.96102905 63.96102905c2.47192359-10.50567651 4.32586646-21.62933374 4.32586647-33.06198096C651.04571533 419.61184716 588.62963844 357.50476098 512 357.50476098c-11.43264794 0-22.24731445 1.54495216-33.06198097 4.32586645zM203.31851196 260.79074097l82.80944848 82.80944848A362.69302345 362.69302345 0 0 0 172.11047387 496.55047632C225.56582641 632.19729591 357.50476098 728.2933352 512 728.2933352c46.9665525 0 92.07916283-8.96072364 133.48388672-25.33721948l105.67474365 105.67474366 43.56765747-43.56765748L246.88616943 216.91409278 203.31851196 260.79074097z m231.74285889 231.74285888l80.6465149 80.64651489c-1.23596215 0.30899072-2.47192359 0.61798073-3.70788575 0.61798073a77.24761987 77.24761987 0 0 1-77.24761987-77.24761915c0-1.54495216 0.30899072-2.47192359 0.30899072-4.01687647z m-105.05676292-105.05676292l54.07333397 54.07333396a142.13562036 142.13562036 0 0 0-11.12365723 55.00030543 139.2620089 139.2620089 0 0 0 193.73703002 127.9220581l30.28106668 30.28106665c-27.19116234 7.41577148-55.61828614 11.74163795-84.97238137 11.74163795a301.88369727 301.88369727 0 0 1-272.52960205-169.9447627c21.62933374-44.18563819 53.14636254-80.64651489 90.53420998-109.07363939z" p-id="8964"></path></svg>`;
        const hideCancelSvg = `<svg t="1758795606673" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9120" width="200" height="200"><path d="M512 314.24609375a322.00927709 322.00927709 0 0 1 290.69824219 181.27441432C748.31591797 606.5922849 636.91455103 676.79492162 512 676.79492162s-236.31591797-70.20263672-290.69824219-181.27441355A322.00927709 322.00927709 0 0 1 512 314.24609375m0-65.9179685C347.20507838 248.32812525 206.47021484 350.83056641 149.45117213 495.52050807 206.47021484 640.21044897 347.20507838 742.71289088 512 742.71289088s305.52978516-102.50244115 362.54882787-247.19238281C817.52978516 350.83056641 676.79492162 248.32812525 512 248.32812525z m0 164.79492163a82.39746119 82.39746119 0 0 1 0 164.79492162 82.39746119 82.39746119 0 0 1 0-164.79492163m0-65.91796849c-81.738281 0-148.31542969 66.57714869-148.31542969 148.31542969S430.261719 643.83593775 512 643.83593775s148.31542969-66.57714869 148.31542969-148.31542968S593.738281 347.20507838 512 347.20507838z" p-id="9121"></path></svg>`;
        const resetSvg = `<svg t="1758795701327" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3238" width="200" height="200"><path d="M835.51303101 304.77553558l-59.88235474 152.9039383-9.96494294 25.49171448c-2.73456574 7.04498291-10.70652008 10.52112579-17.75150299 7.74021149l-25.49171447-9.96494294L569.47222901 421.01775359C562.42724609 418.23683929 558.95110321 410.31123352 561.73201753 403.26625061l9.96494292-25.49171448c2.73456574-7.04498291 10.70652008-10.52112579 17.75150299-7.74021149l126.67064667 49.63932038c-36.6153717-90.10162354-124.26052094-154.01630402-227.47879029-154.01630402-136.03305817 0-246.342659 110.30960083-246.34265899 246.342659s110.26325227 246.342659 246.34265899 246.342659c107.20424651 0 198.14014435-68.59588623 232.02095032-164.21298981l57.42588044 0c-35.78109742 126.2998581-151.65252685 218.95065308-289.44683076 218.95065308C322.34164429 813.08032227 187.55999756 678.29867554 187.55999756 512s134.78164673-301.08032227 301.08032226-301.08032227c113.73939514 0 212.46185303 63.2194519 263.58432771 156.33373261l32.30495452-82.45410919c2.73456574-7.04498291 10.70652008-10.52112579 17.75150299-7.74021149l25.49171448 9.96494294C834.77145386 289.8049469 838.24759675 297.73055267 835.51303101 304.77553558z" p-id="3239"></path></svg>`;
        let data = [
            {
                id: 1,
                date: '2016-05-03',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 2,
                date: '2016-05-02',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 3,
                date: '2016-05-04',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 4,
                date: '2016-05-01',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 5,
                date: '2016-05-08',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 6,
                date: '2016-05-06',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
            {
                id: 7,
                date: '2016-05-07',
                name: 'Tom',
                state: 'California',
                phone: '1234567890',
                city: 'Los Angeles',
                address: 'No. 189, Grove St, Los Angeles',
                zip: 'CA 90036',
                job: 'Job',
                department: 'Department',
                remark: 'Remark',
                status: 'Status',
            },
        ];
        let columns = [
            {
                title: 'id',
                key: 'id',
                readonly: true,
                width: 50,
                fixed: 'left',
                widthFillDisable: true,
            },
            {
                title: 'Name',
                key: 'name',
                readonly: true,
            },
            {
                title: 'Date',
                key: 'date',
                readonly: true,
            },
            {
                key: 'info',
                title: 'Delivery Info',
                children: [
                    {
                        title: 'Phone',
                        key: 'phone',
                        readonly: true,
                    },
                    {
                        title: 'Address',
                        key: 'Address Info',
                        readonly: true,
                        children: [
                            {
                                title: 'State',
                                key: 'state',
                                readonly: true,
                            },
                            {
                                title: 'City',
                                key: 'city',
                                readonly: true,
                            },
                            {
                                title: 'Address',
                                key: 'address',
                                readonly: true,
                                width: 200,
                            },
                            {
                                title: 'Zip',
                                key: 'zip',
                                readonly: true,
                            },
                        ],
                    },
                ],
            },
            {
                title: 'Job',
                key: 'job',
                readonly: true,
            },
            {
                title: 'Department',
                key: 'department',
                readonly: true,
                width: 200,
            },
            {
                title: 'Remark',
                key: 'remark',
                readonly: true,
                width: 200,
            },
            {
                title: 'Status',
                key: 'status',
                readonly: true,
                width: 70,
                fixed: 'right',
                widthFillDisable: true,
            },
        ];
        const target = document.getElementById('e-virt-table');
        const grid = new EVirtTable(target, {
            data,
            columns,
            config: {
                ENABLE_DRAG_COLUMN: true,
                ENABLE_RESIZE_COLUMN: true,
                ENABLE_HEADER_CONTEXT_MENU: true,
                HEADER_CONTEXT_MENU: [
                    { label: 'fixedLeft', value: 'fixedLeft', icon: leftFixedSvg },
                    { label: 'fixedRight', value: 'fixedRight', icon: rightFixedSvg },
                    { label: 'fixedNone', value: 'fixedNone', icon: noFixedSvg },
                    { label: 'hide', value: 'hide', icon: hideSvg },
                    { label: 'visible', value: 'visible', icon: hideCancelSvg },
                    { label: 'resetHeader', value: 'resetHeader', icon: resetSvg },
                ],
            },
        });
        const customHeader = localStorage.getItem('customHeader');
        if (customHeader) {
            console.log('set customHeader');
            grid.setCustomHeader(JSON.parse(customHeader));
        }
        grid.on('customHeaderChange', (customHeader) => {
            console.log('customHeaderChange', customHeader);
            // 如果customHeader为空，则删除localStorage
            if (Object.keys(customHeader).length === 0) {
                localStorage.removeItem('customHeader');
            } else {
                localStorage.setItem('customHeader', JSON.stringify(customHeader));
            }
        });
    </script>
</html>
