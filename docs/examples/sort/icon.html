<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>e-virt-table - Header Sorting</title>
    </head>
    <script src="https://unpkg.com/e-virt-table/dist/index.umd.js"></script>
    <body>
        <div id="e-virt-table"></div>
    </body>
    <script>
        let data = [
            {
                id: 1,
                name: 'John Smith',
                age: 25,
                salary: 50000,
                department: 'Technology',
                joinDate: '2023-01-15',
                score: 85.5,
                status: 'Active',
            },
            {
                id: 2,
                name: 'Sarah Johnson',
                age: 30,
                salary: 65000,
                department: 'Marketing',
                joinDate: '2022-08-20',
                score: 92.3,
                status: 'Active',
            },
            {
                id: 3,
                name: 'Michael Brown',
                age: 28,
                salary: 55000,
                department: 'Technology',
                joinDate: '2023-03-10',
                score: 78.9,
                status: 'Inactive',
            },
            {
                id: 4,
                name: 'Emily Davis',
                age: 35,
                salary: 75000,
                department: 'Sales',
                joinDate: '2021-12-05',
                score: 88.7,
                status: 'Active',
            },
            {
                id: 5,
                name: 'David Wilson',
                age: 27,
                salary: 48000,
                department: 'HR',
                joinDate: '2023-06-18',
                score: 95.2,
                status: 'Active',
            },
            {
                id: 6,
                name: 'Lisa Anderson',
                age: 32,
                salary: 70000,
                department: 'Technology',
                joinDate: '2022-11-12',
                score: 82.1,
                status: 'Active',
            },
            {
                id: 7,
                name: 'Robert Taylor',
                age: 29,
                salary: 58000,
                department: 'Marketing',
                joinDate: '2023-02-28',
                score: 90.5,
                status: 'Inactive',
            },
            {
                id: 8,
                name: 'Jennifer Martinez',
                age: 33,
                salary: 72000,
                department: 'Sales',
                joinDate: '2022-05-15',
                score: 87.3,
                status: 'Active',
            },
        ];

        let columns = [
            {
                title: 'ID',
                key: 'id',
                width: 80,
                align: 'center',
                readonly: true,
            },
            {
                title: 'Name',
                key: 'name',
                width: 120,
                align: 'left',
                sortBy: 'string',
                sortIconName: 'sortable',
                sortAscIconName: 'sort-asc',
                sortDescIconName: 'sort-desc',
                readonly: true,
            },
            {
                title: 'Age',
                key: 'age',
                width: 80,
                align: 'center',
                sortBy: 'number',
                sortIconName: 'sortable',
                sortAscIconName: 'sort-by-number-asc',
                sortDescIconName: 'sort-by-number-desc',
                readonly: true,
            },
            {
                title: 'Salary',
                key: 'salary',
                width: 100,
                align: 'right',
                sortBy: 'number',
                sortIconName: 'sortable',
                sortAscIconName: 'sort-by-number-asc',
                sortDescIconName: 'sort-by-number-desc',
                readonly: true,
                formatter: ({ value }) => {
                    return `$${value.toLocaleString()}`;
                },
            },
            {
                title: 'Department',
                key: 'department',
                width: 120,
                align: 'left',
                sortBy: 'string',
                sortIconName: 'sortable',
                sortAscIconName: 'sort-by-character-asc',
                sortDescIconName: 'sort-by-character-desc',
                readonly: true,
            },
            {
                title: 'Join Date',
                key: 'joinDate',
                width: 120,
                align: 'center',
                sortBy: 'date',
                sortIconName: 'sortable',
                sortAscIconName: 'sort-by-date-asc',
                sortDescIconName: 'sort-by-date-desc',
                readonly: true,
            },
            {
                title: 'Score',
                key: 'score',
                width: 100,
                align: 'center',
                sortIconName: 'sortable',
                sortBy: (a, b) => {
                    return a.score - b.score;
                },
                readonly: true,
                formatter: ({ value }) => {
                    return `${value.toFixed(1)} pts`;
                },
            },
            {
                title: 'Status',
                key: 'status',
                width: 100,
                align: 'center',
                sortIconName: 'sortable',
                sortBy: (a, b) => {
                    return a.status === 'Active' ? -1 : 1;
                },
                readonly: true,
                formatter: ({ value }) => {
                    return value === 'Active' ? '✅ Active' : '❌ Inactive';
                },
            },
        ];

        const svgCharacterAsc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fillRule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"></path><path fill="currentColor" d="M4.664 11.942a1 1 0 0 0 1.278-.606L6.419 10h3.162l.477 1.336a1 1 0 0 0 1.884-.672L9.61 4.134a1.71 1.71 0 0 0-3.22 0l-2.332 6.53a1 1 0 0 0 .606 1.278M8 5.573L8.867 8H7.133zm8.293-1.28a1 1 0 0 1 1.414 0l2.829 2.828a1 1 0 0 1-1.415 1.415L18 7.414V20a1 1 0 1 1-2 0V7.414l-1.121 1.122a1 1 0 1 1-1.415-1.415zM5 13a1 1 0 1 0 0 2h3.586l-4.122 4.122C3.77 19.815 4.26 21 5.24 21H11a1 1 0 1 0 0-2H7.414l4.122-4.122c.693-.693.203-1.878-.777-1.878z"></path></g></svg>`;
        const svgCharacterDesc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"></path><path fill="currentColor" d="M8 12c.674 0 1.28.396 1.556 1.002l.054.132l2.332 6.53a1 1 0 0 1-1.838.78l-.046-.108L9.581 19H6.419l-.477 1.336a1 1 0 0 1-1.917-.56l.033-.112l2.332-6.53A1.71 1.71 0 0 1 8 12m9-8a1 1 0 0 1 1 1v12.414l1.121-1.121a1 1 0 0 1 1.415 1.414l-2.829 2.828a1 1 0 0 1-1.414 0l-2.828-2.828a1 1 0 0 1 1.414-1.414L16 17.414V5a1 1 0 0 1 1-1M8 14.573L7.133 17h1.734zM10.759 3c.94 0 1.43 1.092.855 1.792l-.078.086L7.414 9H11a1 1 0 0 1 .117 1.993L11 11H5.241c-.94 0-1.43-1.092-.855-1.792l.078-.086L8.586 5H5a1 1 0 0 1-.117-1.993L5 3z"></path></g></svg>`;
        const svgNumberAsc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fillRule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"></path><path fill="currentColor" d="M5 6a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0zm3-1a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1m9.707-.707a1 1 0 0 0-1.414 0L13.465 7.12a1 1 0 0 0 1.414 1.415L16 7.414V20a1 1 0 1 0 2 0V7.414l1.121 1.122a1 1 0 1 0 1.415-1.415zM5 15a3 3 0 0 1 5.995-.176l.005.186c0 .408-.039.799-.107 1.171c-.264 1.433-.964 2.58-1.57 3.352c-.307.39-.598.694-.815.904c-.124.12-.25.238-.385.345a1 1 0 0 1-1.34-1.479L7.118 19l.224-.228A7 7 0 0 0 7.971 18A3 3 0 0 1 5 15m3-1a1 1 0 1 0 0 2a1 1 0 0 0 0-2"></path></g></svg>`;
        const svgNumberDesc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fillRule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"></path><path fill="currentColor" d="M5 6a3 3 0 0 1 5.995-.176L11 6.01c0 .408-.039.799-.107 1.171c-.264 1.433-.964 2.58-1.57 3.352c-.307.39-.598.694-.815.904c-.124.12-.25.238-.385.345a1 1 0 0 1-1.34-1.479L7.118 10l.224-.228A7 7 0 0 0 7.971 9A3 3 0 0 1 5 6m3-1a1 1 0 1 0 0 2a1 1 0 0 0 0-2m10 0a1 1 0 1 0-2 0v12.414l-1.121-1.121a1 1 0 0 0-1.415 1.414l2.829 2.828a1 1 0 0 0 1.414 0l2.828-2.828a1 1 0 1 0-1.414-1.414L18 17.413zM8 13a3 3 0 0 0-3 3v2a3 3 0 1 0 6 0v-2a3 3 0 0 0-3-3m-1 3a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0z"></path></g></svg>`;
        const svgDateAsc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 7h-3l4-4l4 4h-3v14h-2zM8 16h3v-3H8zm5-11h-1V3h-2v2H6V3H4v2H3c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h10c1.11 0 2-.89 2-2V7c0-1.11-.89-2-2-2M3 18v-7h10v7z"></path></svg>`;
        const svgDateDesc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M21 17h3l-4 4l-4-4h3V3h2zM8 16h3v-3H8zm5-11h-1V3h-2v2H6V3H4v2H3c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h10c1.11 0 2-.89 2-2V7c0-1.11-.89-2-2-2M3 18v-7h10v7z"></path></svg>`;
        const svgSortAsc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M18.5 17.25a.75.75 0 0 1-1.5 0V7.56l-2.22 2.22a.75.75 0 1 1-1.06-1.06l3.5-3.5a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L18.5 7.56zm-15.75.25a.75.75 0 0 1 0-1.5h9.5a.75.75 0 0 1 0 1.5zm0-5a.75.75 0 0 1 0-1.5h5.5a.75.75 0 0 1 0 1.5zm0-5a.75.75 0 0 1 0-1.5h3.5a.75.75 0 0 1 0 1.5z"></path></svg>`;
        const svgSortDesc = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M18.5 16.44V6.75a.75.75 0 0 0-1.5 0v9.69l-2.22-2.22a.75.75 0 1 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 1 0-1.06-1.06zM2 7.25a.75.75 0 0 1 .75-.75h9.5a.75.75 0 0 1 0 1.5h-9.5A.75.75 0 0 1 2 7.25m0 5a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75m0 5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75"></path></svg>`;
        const svgSortable = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="m17.25 4l-.1.007a.75.75 0 0 0-.65.743v12.692l-3.22-3.218l-.084-.072a.75.75 0 0 0-.976 1.134l4.504 4.5l.084.072a.75.75 0 0 0 .976-.073l4.497-4.5l.072-.084a.75.75 0 0 0-.073-.977l-.084-.072a.75.75 0 0 0-.977.073L18 17.446V4.75l-.006-.102A.75.75 0 0 0 17.251 4m-11.036.22L1.72 8.715l-.073.084a.75.75 0 0 0 .073.976l.084.073a.75.75 0 0 0 .976-.073l3.217-3.218v12.698l.008.102a.75.75 0 0 0 .743.648l.101-.007a.75.75 0 0 0 .649-.743L7.497 6.559l3.223 3.217l.084.072a.75.75 0 0 0 .975-1.134L7.275 4.22l-.085-.072a.75.75 0 0 0-.976.073"></path></svg>`;
        const eVirtTable = new EVirtTable(document.getElementById('e-virt-table'), {
            columns,
            data,
            config: {
                BORDER: true,
                STRIPE: true,
                CELL_HEIGHT: 40,
                HEADER_HEIGHT: 40,
                ROW_KEY: 'id',
                ENABLE_SELECTOR: true,
                ENABLE_KEYBOARD: true,
                HIGHLIGHT_HOVER_ROW: true,
                ICONS: [
                    {
                        name: 'sort-by-character-asc',
                        svg: svgCharacterAsc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-by-character-desc',
                        svg: svgCharacterDesc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-by-number-asc',
                        svg: svgNumberAsc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-by-number-desc',
                        svg: svgNumberDesc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-by-date-asc',
                        svg: svgDateAsc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-by-date-desc',
                        svg: svgDateDesc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-asc',
                        svg: svgSortAsc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sort-desc',
                        svg: svgSortDesc,
                        color: '#4E5969',
                    },
                    {
                        name: 'sortable',
                        svg: svgSortable,
                        color: '#bec4c7',
                    },
                ],
            },
        });

        // Listen for selection changes
        eVirtTable.on('selectionChange', (rowkeys) => {
            console.log('Selected rows:', rowkeys);
        });
    </script>
</html>
